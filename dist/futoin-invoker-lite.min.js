!function(a){"function"==typeof define&&define.amd?define(["futoin-asyncsteps"],a):"object"==typeof exports?module.exports=a(require("futoin-asyncsteps")):this.FutoInInvoker=a($as)}(function(a){function b(a){var c=b.cache[a];if(!c){var d={};c=b.cache[a]={id:a,exports:d},b.modules[a].call(d,c,d)}return c.exports}var c=this;return b.cache=[],b.modules=[function(a){"use strict";function b(a){this._raw_info=a}var c={};b.prototype=c,c.name=function(){return this._raw_info.iface},c.version=function(){return this._raw_info.version},c.inherits=function(){return this._raw_info.inherits},c.funcs=function(){return this._raw_info.funcs},c.constraints=function(){return this._raw_info.constraints},a.exports=b},function(a){"use strict";function c(a,b){this._ccmimpl=a,this._raw_info=b,this._iface_info=null,this._comms={},g(this);for(var c in this._raw_info.funcs){var d=this._raw_info.funcs[c];d.rawupload||c in this||(this[c]=this._member_call_generate(c,d))}}var d=b(6),e=d.FutoInError,f=b(24),g=b(8),h=b(23),i=b(0),j=d.Options.FUTOIN_CONTENT_TYPE,k={};c.prototype=k,k.call=function(a,b,c,d,f,g){c=c||{};var i=this._raw_info,k={ccmimpl:this._ccmimpl,name:b,info:i,upload_data:d,download_stream:f,rsp_content_type:null,native_iface:this,options:i.options,endpoint:i.endpoint,expect_response:!0,signMessage:this._signMessageDummy},l=this._ccmimpl;a.add(function(a){l.createMessage(a,k,c)}),a.add(function(a,c){var m;k.expect_response?(m=a,"number"!=typeof g&&(g=k.info.options.callTimeoutMS),g>0&&m.setTimeout(g)):m=h();var n=i.endpoint_scheme;if("#internal#"===n)k.endpoint.onInternalRequest(m,i,c,d,f);else if("http"===n||"https"===n)l.perfomHTTP(m,k,c);else if("ws"===n||"wss"===n){var o,p=k.download_stream||k.info.funcs&&(o=k.info.funcs[b])&&o.rawresult;k.upload_data||p?(k.endpoint=k.endpoint.replace("ws","http"),k.rawresult=p,l.perfomHTTP(m,k,c)):l.perfomWebSocket(m,k,c)}else k.upload_data?m.error(e.InvokerError,"Upload data is allowed only for HTTP/WS endpoints"):k.download_stream?m.error(e.InvokerError,"Download stream is allowed only for HTTP/WS endpoints"):"browser"===n?l.perfomBrowser(m,k,c):"unix"===n?l.perfomUNIX(m,k,c):"callback"===n?k.endpoint(m,k,c):m.error(e.InvokerError,"Unknown endpoint scheme");m!==a?(m.execute(),a.success()):m.add(function(a,b,c){if(k.download_stream)a.success(!0);else if(c===j||c===!0){if("string"==typeof b)try{b=JSON.parse(b)}catch(d){a.error(e.CommError,"JSON:"+d.message)}l.onMessageResponse(a,k,b)}else l.onDataResponse(a,k,b)})})},k._member_call_intercept=function(a,b,c,d){var g=c.params,h=Object.keys(g);d.length>h.length?a.error(e.InvokerError,"Unknown parameters"):d.length<c.min_args?a.error(e.InvokerError,"Missing parameters"):d.length<h.length&&(h=h.splice(0,d.length));var i=f(h,d);this.call(a,b,i)},k._member_call_generate=function(a,b){return function(c){this._member_call_intercept(c,a,b,Array.prototype.slice.call(arguments,1))}},k.ifaceInfo=function(){return this._iface_info||(this._iface_info=new i(this._raw_info)),this._iface_info},k.bindDerivedKey=function(a){throw new Error(e.InvokerError,"Not Implemented")},k._close=function(){var a=this._comms;for(var b in a)a[b].close();this.emit("close")},k._signMessageDummy=function(){},a.exports=c},function(a){"use strict";function c(a){j(this),this._iface_info={},this._iface_impl={},this._impl=new i(a)}var d=b(6),e=d.FutoInError,f=b(1),g=b(43),h=b(42),i=b(3),j=b(8),k=d.Options;g(c,k);var l={};c.prototype=l,g(l,k),l._secure_replace=/^secure\+/,l._secure_test=/^(https|wss|unix):\/\//,l._native_iface_builder=function(a,b){return new f(a,b)},l.register=function(a,b,c,f,g,i){var j=null===b;!j&&b in this._iface_info&&a.error(e.InvokerError,"Already registered");var k=c.match(d._ifacever_pattern);null===k&&a.error(e.InvokerError,"Invalid ifacever");var l,m=k[1],n=k[4],o=k[5],p=k[6],q=!1,r=null,s=!1;if(j)l="callback",s=!0;else if("string"==typeof f)switch(this._secure_replace.test(f)?(q=!0,f=f.replace(this._secure_replace,"")):this._secure_test.test(f)&&(q=!0),r=this._native_iface_builder,l=f.split(":")[0]){case"http":case"https":break;case"ws":case"wss":case"unix":s=!0;break;case"browser":i&&i.targetOrigin&&(q=!0),s=!0;break;default:a.error(e.InvokerError,"Unknown endpoint schema")}else"onInternalRequest"in f?(q=!0,r=this._native_iface_builder,l="#internal#",s=!0):(q=!0,r=f,f=null,l=null,s=!0);i=i||{},h(i,this._impl.options);var t={iface:m,version:n,mjrver:o,mnrver:p,endpoint:f,endpoint_scheme:l,creds:g||null,creds_master:"master"===g,creds_hmac:g&&"-hmac:"===g.substr(0,6),secure_channel:q,impl:r,regname:b,inherits:null,funcs:null,constraints:null,options:i,_invoker_use:!0,_user_info:null};!t.creds_hmac||i.hmacKey&&i.hmacAlgo||a.error(e.InvokerError,"Missing options.hmacKey or options.hmacAlgo"),b&&(this._iface_info[b]=t);var u=this;a.add(function(a){u._impl.onRegister(a,t),a.add(function(a){t.simple_req||("AllowAnonymous"in t.constraints||t.creds||a.error(e.SecurityError,"Requires authenticated user"),"SecureChannel"in t.constraints&&!q&&a.error(e.SecurityError,"SecureChannel is required"),"MessageSignature"in t.constraints&&!t.creds_master&&!t.creds_hmac&&a.error(e.SecurityError,"SecureChannel is required"),"BiDirectChannel"in t.constraints&&!s&&a.error(e.InvokerError,"BiDirectChannel is required")),j&&a.success(t,u._native_iface_builder(u._impl,t)),u.emit("register",b,c,t)})},function(a,c){b&&delete u._iface_info[b]})},l.iface=function(a){var b=this._iface_info[a];if(!b)throw new Error(e.InvokerError);var c=b.regname,d=this._iface_impl[c];if(!d){var f=b.options.nativeImpl;d=f?new f(this._impl,b):b.impl(this._impl,b),this._iface_impl[c]=d}return d},l.unRegister=function(a){var b=this._iface_info[a];if(!b)throw new Error(e.InvokerError);var c=b.regname;if(c===a){delete this._iface_info[c];var d=this._iface_impl[c];if(d&&(d._close(),delete this._iface_impl[c]),b.aliases)for(var f=b.aliases,g=0;g<f.length;++g)delete this._iface_info[f[g]]}else delete this._iface_info[a],b.aliases.splice(b.aliases.indexOf(a),0);this.emit("unregister",a,b)},l.defense=function(){return this.iface(this.SVC_DEFENSE)},l.log=function(){return this.iface(this.SVC_LOG)},l.cache=function(a){return this.iface(this.SVC_CACHE_+(a||"default"))},l.assertIface=function(a,b){var c=this._iface_info[a];if(!c)throw new Error(e.InvokerError);var f=b.match(d._ifacever_pattern);if(null===f)throw new Error(e.InvokerError);var g=f[1],h=f[5],i=f[6];if(c.iface!==g||c.mjrver!==h||c.mnrver<i)throw new Error(e.InvokerError)},l.alias=function(a,b){var c=this._iface_info[a];if(!c||this._iface_info[b])throw new Error(e.InvokerError);this._iface_info[b]=c,c.aliases?c.aliases.push(b):c.aliases=[b],this.emit("register",b,c.iface+":"+c.version,c)},l.close=function(){var a=this._iface_impl;for(var b in a)a[b]._close();var c=this._impl.comms;for(var d in c)c[d].close();this.emit("close")},a.exports=c},function(a){"use strict";function c(a){a=a||{},h(a,j),this.options=a,this.comms={}}var d,e=b(6),f=e.FutoInError,g=b(7),h=b(42);if(g){var i=require;d=i("./node/comms")}else d=b(4);var j={callTimeoutMS:3e4,prodMode:!1,commConfigCallback:null,retryCount:1,messageSniffer:function(){},disconnectSniffer:function(){},hmacAlgo:"MD5"};c.prototype={onRegister:function(a,b){(b.creds_master||b.creds_hmac)&&a.error(f.InvokerError,"Master/HMAC is supported only in AdvancedCCM"),b.funcs={},b.inherits=[],b.constraints={},b.simple_req=!0},createMessage:function(a,b,c){var d=b.info,e={f:d.iface+":"+d.version+":"+b.name,p:c,forcersp:!0};null!==d.creds&&"master"!==d.creds&&(e.sec=d.creds),a.success(e)},onMessageResponse:function(a,b,c){"e"in c?a.error(c.e,c.edesc):a.success(c.r)},onDataResponse:function(a,b,c){a.success(c)},getComms:function(a,b,c,d){var e,g,h=b.options,i=this.options;h.executor!==i.executor||h.messageSniffer!==i.messageSniffer||h.disconnectSniffer!==i.disconnectSniffer||h.commConfigCallback!==i.commConfigCallback?(e=b.native_iface._comms,g=b.info.endpoint_scheme):(e=this.comms,g=b.endpoint+"##"+(b.credentials||"")+"##"+(d||""));var j=e[g];return j||(c||a.error(f.InvokerError,"Not implemented "+b.info.endpoint_scheme+" scheme"),j=new c,e[g]=j),j},performCommon:function(a,b,c,d){var e,g,h=b.options.retryCount;a.repeat(h+1,function(a,i){a.add(function(a){d.perform(a,b,c),a.add(function(a,b,c){e=b,g=c,a["break"]()})},function(a,d){d===f.CommError&&(b.native_iface.emit("commError",a.state.error_info,c),h>i&&a["continue"]())})}).add(function(a){a.success(e,g)})},perfomHTTP:function(a,b,c){var e=this.getComms(a,b,d.HTTPComms);this.performCommon(a,b,c,e)},perfomWebSocket:function(a,b,c){var e=this.getComms(a,b,d.WSComms);this.performCommon(a,b,c,e)},perfomUNIX:function(a,b,c){a.error(f.InvokerError,"Not implemented unix:// scheme")},perfomBrowser:function(a,b,c){var e=this.getComms(a,b,d.BrowserComms,b.options.targetOrigin);e.perform(a,b,c)}},a.exports=c},function(a,c){"use strict";var d=b(8),e=b(6),f=e.FutoInError,g=WebSocket,h=e.Options.FUTOIN_CONTENT_TYPE;c.HTTPComms=function(){},c.HTTPComms.prototype={close:function(){},perform:function(a,b,c){var d=this;a.add(function(a){d._perform(a,b,c)})},_perform:function(a,b,c){b.signMessage(c);var d,e,g=b.options.messageSniffer,i=new XMLHttpRequest,j=b.endpoint,k=b.upload_data;if(k||""===k){d="application/octet-stream","/"!==j.charAt(j.length-1)&&(j+="/"),j+=c.f.replace(/:/g,"/")+"/","sec"in c&&(c.sec===b.options.credentials?e="Basic "+window.btoa(c.sec):j+=c.sec+"/");var l=[];for(var m in c.p){var n=c.p[m];"string"!=typeof n&&(n=JSON.stringify(n)),l.push(encodeURIComponent(m)+"="+encodeURIComponent(n))}j+="?"+l.join("&"),g(b.info,c,!1)}else d=h,k=JSON.stringify(c),g(b.info,k,!1);b.expect_response&&(b.download_stream&&(i.responseType=b.download_stream),i.onreadystatechange=function(){if(this.readyState===this.DONE){var c=b.download_stream?this.response:this.responseText;if(c){var d=this.getResponseHeader("content-type");d===h?g(b.info,c,!0):g(b.info,"%DATA%",!0),a.success(c,d)}else try{a.error(f.CommError,"Low error")}catch(e){}}},a.setCancel(function(){i.abort()})),i.open("POST",j,!0),i.setRequestHeader("Content-Type",d),e&&i.setRequestHeader("Authorization",e),i.send(k),b.expect_response||a.success()}},c.WSComms=function(){this.rid=1,this.reqas={},this.evt=d()},c.WSComms.prototype={_waiting_open:!1,init:function(a,b){var c=b.options,d=new g(b.endpoint);this.ws=d,this._waiting_open=!0;var e=this.reqas,h=c.executor||null,i=b.info,j=this,k=c.messageSniffer;this.sniffer=k;var l=function(a){var b=h.packPayloadJSON(a);k(i,b,!1),d.send(b)},m=function(a){c.disconnectSniffer(i),d.close(),delete j.ws;for(var g in e)try{e[g].error(f.CommError,a.wasClean?"Cleanup":"Error")}catch(h){}delete j.reqas,j.reqas={},j._waiting_open=!1,b.native_iface.emit("disconnect")};d.onclose=m,d.onerror=m,d.onopen=function(a){j._waiting_open=!1,j.evt.emit("open"),b.native_iface.emit("connect")},d.onmessage=function(a){k(i,a.data,!0);var b;try{b=JSON.parse(a.data)}catch(c){return}if("rid"in b){var d=b.rid;d in e?(e[d].success(b,!0),delete e[d]):"S"===d.charAt(0)&&h&&h.onEndpointRequest(i,b,l)}}},close:function(){this.ws&&this.ws.close()},perform:function(a,b,c){var d=this;"ws"in this||d.init(a,b),this._waiting_open&&a.add(function(a){if(d._waiting_open){var b=function(){a.success()};d.evt.once("open",b),a.setCancel(function(){d.evt.off("open",b)})}}),a.add(function(a){d._perform(a,b,c)})},_perform:function(a,b,c){"ws"in this||a.error(f.CommError,"Disconnect while in progress");var d=this.reqas,e="C"+this.rid++;c.rid=e,b.signMessage(c),b.expect_response&&(d[e]=a,a.setCancel(function(){delete d[e]}));var g=JSON.stringify(c);this.sniffer(b.info,g,!1),this.ws.send(g)}},g||(c.WSComms=c.HTTPComms),c.BrowserComms=function(){this.rid=1,this.reqas={}},c.BrowserComms.prototype={init:function(a,b){var c=b.options;this.opts=c;var d,e=b.endpoint.split("://",2)[1],g=window;if("parent"===e)e=g.parent;else if(e in g&&"postMessage"in g[e])e=g[e];else{var h=document;d=h.getElementById(e),d?e=d.contentWindow:a.error(f.CommError,"Unknown target: "+e)}e===g&&a.error(f.CommError,"Target matches current window"),this.target=e;var i=this.reqas,j=c.executor||null,k=b.info,l=c.targetOrigin,m=c.messageSniffer;this.sniffer=m;var n=function(a){m(l,a,!1),e.postMessage(a,l||"*")},o=function(a){if(m(k,a.data,!0),!a.source||a.source===e){if(l){if(a.origin!==l)return console.log("Error: peer origin mismatch "),console.log("Error >origin: "+a.origin),void console.log("Error >required: "+l)}else;var b=a.data;if("object"!=typeof b)return void console.log("Not object response: "+b);if("rid"in b){var c=b.rid;if(!("f"in b)&&c in i)i[c].success(b,!0),delete i[c];else{if(!("f"in b&&"S"===c.charAt(0)&&j))return;j.onEndpointRequest(k,b,n)}a.stopPropagation&&a.stopPropagation()}}};g.addEventListener("message",o,!1),b.native_iface.emit("connect")},close:function(){this.target&&(this.target=null)},perform:function(a,b,c){(b.upload_data||b.download_stream)&&a.error(f.CommError,"Raw Data is not supported by Web Messaging yet"),this.target||this.init(a,b);var d=this;a.add(function(a){var e=d.reqas,f="C"+d.rid++;c.rid=f,b.signMessage(c),b.expect_response&&(e[f]=a,a.setCancel(function(a){delete e[f]})),d.sniffer(b.info,c,!1),d.target.postMessage(c,d.opts.targetOrigin||"*")})}}},function(a){!function(c){"use strict";c.SimpleCCM=b(2),a&&(a.exports=c.SimpleCCM)}(window)},function(a,c){"use strict";var d=b(23);c.AsyncSteps=d,c.FutoInError=d.FutoInError,c.Options={OPT_CALL_TIMEOUT_MS:"callTimeoutMS",OPT_PROD_MODE:"prodMode",OPT_COMM_CONFIG_CB:"commConfigCallback",OPT_MSG_SNIFFER:"messageSniffer",OPT_DISCONNECT_SNIFFER:"disconnectSniffer",OPT_SPEC_DIRS:"specDirs",OPT_EXECUTOR:"executor",OPT_TARGET_ORIGIN:"targetOrigin",OPT_RETRY_COUNT:"retryCount",OPT_HMAC_KEY:"hmacKey",OPT_HMAC_ALGO:"hmacAlgo",SAFE_PAYLOAD_LIMIT:65536,SVC_RESOLVER:"#resolver",SVC_AUTH:"#auth",SVC_DEFENSE:"#defense",SVC_ACL:"#acl",SVC_LOG:"#log",SVC_CACHE_:"#cache.",FUTOIN_CONTENT_TYPE:"application/futoin+json"},c._ifacever_pattern=/^(([a-z][a-z0-9]*)(\.[a-z][a-z0-9]*)*):(([0-9]+)\.([0-9]+))$/},function(a){a.exports=!1;try{a.exports="[object process]"===Object.prototype.toString.call(c.process)}catch(b){}},function(a,c){"use strict";var d,e,f,g,h,i,j,k=b(9),l=b(18),m=Function.prototype.apply,n=Function.prototype.call,o=Object.create,p=Object.defineProperty,q=Object.defineProperties,r=Object.prototype.hasOwnProperty,s={configurable:!0,enumerable:!1,writable:!0};d=function(a,b){var c;return l(b),r.call(this,"__ee__")?c=this.__ee__:(c=s.value=o(null),p(this,"__ee__",s),s.value=null),c[a]?"object"==typeof c[a]?c[a].push(b):c[a]=[c[a],b]:c[a]=b,this},e=function(a,b){var c,e;return l(b),e=this,d.call(this,a,c=function(){f.call(e,a,c),m.call(b,this,arguments)}),c.__eeOnceListener__=b,this},f=function(a,b){var c,d,e,f;if(l(b),!r.call(this,"__ee__"))return this;if(c=this.__ee__,!c[a])return this;if(d=c[a],"object"==typeof d)for(f=0;e=d[f];++f)(e===b||e.__eeOnceListener__===b)&&(2===d.length?c[a]=d[f?0:1]:d.splice(f,1));else(d===b||d.__eeOnceListener__===b)&&delete c[a];return this},g=function(a){var b,c,d,e,f;if(r.call(this,"__ee__")&&(e=this.__ee__[a]))if("object"==typeof e){for(c=arguments.length,f=new Array(c-1),b=1;c>b;++b)f[b-1]=arguments[b];for(e=e.slice(),b=0;d=e[b];++b)m.call(d,this,f)}else switch(arguments.length){case 1:n.call(e,this);break;case 2:n.call(e,this,arguments[1]);break;case 3:n.call(e,this,arguments[1],arguments[2]);break;default:for(c=arguments.length,f=new Array(c-1),b=1;c>b;++b)f[b-1]=arguments[b];m.call(e,this,f)}},h={on:d,once:e,off:f,emit:g},i={on:k(d),once:k(e),off:k(f),emit:k(g)},j=q({},i),a.exports=c=function(a){return null==a?o(j):q(Object(a),i)},c.methods=h},function(a){"use strict";var c,d=b(10),e=b(17),f=b(13),g=b(20);c=a.exports=function(a,b){var c,f,h,i,j;return arguments.length<2||"string"!=typeof a?(i=b,b=a,a=null):i=arguments[2],null==a?(c=h=!0,f=!1):(c=g.call(a,"c"),f=g.call(a,"e"),h=g.call(a,"w")),j={value:b,configurable:c,enumerable:f,writable:h},i?d(e(i),j):j},c.gs=function(a,b,c){var h,i,j,k;return"string"!=typeof a?(j=c,c=b,b=a,a=null):j=arguments[3],null==b?b=void 0:f(b)?null==c?c=void 0:f(c)||(j=c,c=void 0):(j=b,b=c=void 0),null==a?(h=!0,i=!1):(h=g.call(a,"c"),i=g.call(a,"e")),k={get:b,set:c,configurable:h,enumerable:i},j?d(e(j),k):k}},function(a){"use strict";a.exports=b(11)()?Object.assign:b(12)},function(a){"use strict";a.exports=function(){var a,b=Object.assign;return"function"!=typeof b?!1:(a={foo:"raz"},b(a,{bar:"dwa"},{trzy:"trzy"}),a.foo+a.bar+a.trzy==="razdwatrzy")}},function(a){"use strict";var c=b(14),d=b(19),e=Math.max;a.exports=function(a,b){var f,g,h,i=e(arguments.length,2);for(a=Object(d(a)),h=function(c){try{a[c]=b[c]}catch(d){f||(f=d)}},g=1;i>g;++g)b=arguments[g],c(b).forEach(h);if(void 0!==f)throw f;return a}},function(a){"use strict";a.exports=function(a){return"function"==typeof a}},function(a){"use strict";a.exports=b(15)()?Object.keys:b(16)},function(a){"use strict";a.exports=function(){try{return Object.keys("primitive"),!0}catch(a){return!1}}},function(a){"use strict";var b=Object.keys;a.exports=function(a){return b(null==a?a:Object(a))}},function(a){"use strict";var b=Array.prototype.forEach,c=Object.create,d=function(a,b){var c;for(c in a)b[c]=a[c]};a.exports=function(){var a=c(null);return b.call(arguments,function(b){null!=b&&d(Object(b),a)}),a}},function(a){"use strict";a.exports=function(a){if("function"!=typeof a)throw new TypeError(a+" is not a function");return a}},function(a){"use strict";a.exports=function(a){if(null==a)throw new TypeError("Cannot use null or undefined");return a}},function(a){"use strict";a.exports=b(21)()?String.prototype.contains:b(22)},function(a){"use strict";var b="razdwatrzy";a.exports=function(){return"function"!=typeof b.contains?!1:b.contains("dwa")===!0&&b.contains("foo")===!1}},function(a){"use strict";var b=String.prototype.indexOf;a.exports=function(a){return b.call(this,a,arguments[1])>-1}},function(b){b.exports=a},function(a){function c(a,b){var c=-1,e=a?a.length:0,f={};for(!e||b||d(a[0])||(b=[]);++c<e;){var g=a[c];b?f[g]=b[c]:g&&(f[g[0]]=g[1])}return f}var d=b(38);a.exports=c},function(a){function b(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}a.exports=b},function(a){function b(a,b){return"undefined"==typeof a?b:a}a.exports=b},function(a){function c(a,b,c){var f=e(b);if(!c)return d(b,a,f);for(var g=-1,h=f.length;++g<h;){var i=f[g],j=a[i],k=c(j,b[i],i,a,b);(k===k?k===j:j!==j)&&("undefined"!=typeof j||i in a)||(a[i]=k)}return a}var d=b(28),e=b(44);a.exports=c},function(a){function b(a,b,c){c||(c=b,b={});for(var d=-1,e=c.length;++d<e;){var f=c[d];b[f]=a[f]}return b}a.exports=b},function(a){function b(a){return"string"==typeof a?a:null==a?"":a+""}a.exports=b},function(a){function c(a,b,c){if("function"!=typeof a)return d;if("undefined"==typeof b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var d=b(48);a.exports=c},function(a){function c(a){return function(){var b=arguments.length,c=arguments[0];if(2>b||null==c)return c;if(b>3&&e(arguments[1],arguments[2],arguments[3])&&(b=2),b>3&&"function"==typeof arguments[b-2])var f=d(arguments[--b-1],arguments[b--],5);else b>2&&"function"==typeof arguments[b-1]&&(f=arguments[--b]);for(var g=0;++g<b;){var h=arguments[g];h&&a(c,h,f)}return c}}var d=b(30),e=b(33);a.exports=c},function(a){function b(a,b){return a=+a,b=null==b?c:b,a>-1&&a%1==0&&b>a}var c=Math.pow(2,53)-1;a.exports=b},function(a){function c(a,b,c){if(!f(c))return!1;var g=typeof b;if("number"==g)var h=c.length,i=e(h)&&d(b,h);else i="string"==g&&b in c;var j=c[b];return i&&(a===a?a===j:j!==j)}var d=b(32),e=b(34),f=b(40);a.exports=c},function(a){function b(a){return"number"==typeof a&&a>-1&&a%1==0&&c>=a}var c=Math.pow(2,53)-1;a.exports=b},function(a){function b(a){return a&&"object"==typeof a||!1}a.exports=b},function(a){function c(a){for(var b=h(a),c=b.length,j=c&&a.length,l=j&&g(j)&&(e(a)||i.nonEnumArgs&&d(a)),m=-1,n=[];++m<c;){var o=b[m];(l&&f(o,j)||k.call(a,o))&&n.push(o)}return n}var d=b(37),e=b(38),f=b(32),g=b(34),h=b(45),i=b(47),j=Object.prototype,k=j.hasOwnProperty;a.exports=c},function(a){function c(a){var b=e(a)?a.length:void 0;return d(b)&&h.call(a)==f||!1}var d=b(34),e=b(35),f="[object Arguments]",g=Object.prototype,h=g.toString;a.exports=c},function(a){var c=b(34),d=b(39),e=b(35),f="[object Array]",g=Object.prototype,h=g.toString,i=d(i=Array.isArray)&&i,j=i||function(a){return e(a)&&c(a.length)&&h.call(a)==f||!1};a.exports=j},function(a){function c(a){return null==a?!1:j.call(a)==f?k.test(i.call(a)):e(a)&&g.test(a)||!1}var d=b(46),e=b(35),f="[object Function]",g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.toString,k=RegExp("^"+d(j).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=c},function(a){function b(a){var b=typeof a;return"function"==b||a&&"object"==b||!1}a.exports=b},function(a){var c=b(27),d=b(31),e=d(c);a.exports=e},function(a){function c(a){if(null==a)return a;var b=d(arguments);return b.push(f),e.apply(void 0,b)}var d=b(25),e=b(41),f=b(26);a.exports=c},function(a){a.exports=b(41)},function(a){var c=b(34),d=b(39),e=b(40),f=b(36),g=d(g=Object.keys)&&g,h=g?function(a){if(a)var b=a.constructor,d=a.length;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&d&&c(d)?f(a):e(a)?g(a):[]}:f;a.exports=h},function(a){function c(a){if(null==a)return[];h(a)||(a=Object(a));var b=a.length;b=b&&g(b)&&(e(a)||i.nonEnumArgs&&d(a))&&b||0;for(var c=a.constructor,j=-1,l="function"==typeof c&&c.prototype===a,m=Array(b),n=b>0;++j<b;)m[j]=j+"";for(var o in a)n&&f(o,b)||"constructor"==o&&(l||!k.call(a,o))||m.push(o);return m}var d=b(37),e=b(38),f=b(32),g=b(34),h=b(40),i=b(47),j=Object.prototype,k=j.hasOwnProperty;a.exports=c},function(a){function c(a){return a=d(a),a&&f.test(a)?a.replace(e,"\\$&"):a}var d=b(29),e=/[.*+?^${}()|[\]\/\\]/g,f=RegExp(e.source);a.exports=c},function(a){var d=b(39),e=/\bthis\b/,f=Object.prototype,g=(g=c.window)&&g.document,h=f.propertyIsEnumerable,i={};!function(){i.funcDecomp=!d(c.WinRTError)&&e.test(function(){return this}),i.funcNames="string"==typeof Function.name;try{i.dom=11===g.createDocumentFragment().nodeType}catch(a){i.dom=!1}try{i.nonEnumArgs=!h.call(arguments,1)}catch(a){i.nonEnumArgs=!0}}(0,0),a.exports=i},function(a){function b(a){return a}a.exports=b}],b(5)});